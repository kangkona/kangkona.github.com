<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Tomcat 并发调优 | Gray Times</title>
  <meta name="author" content="Kangkona D.Han">
  
  <meta name="description" content="一. Linux系统配置">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="Tomcat 并发调优"/>
  <meta property="og:site_name" content="Gray Times"/>

  
    <meta property="og:image" content="undefined"/>
  

  <link href="/favicon.ico" rel="icon" type="image/x-ico">
  <link rel="alternate" href="/atom.xml" title="Gray Times" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  

</head>


<body>
  <header id="header" class="inner"><div class="alignleft">
  <h1><a href="/">Gray Times</a></h1>
  <h2><a href="/">Record the history that you never forget.</a></h2>
</div>
<nav id="main-nav" class="alignright">
  <ul>
    
      <li><a href="/">Home</a></li>
    
      <li><a href="/archives">Archives</a></li>
    
      <li><a href="/about">About</a></li>
    
  </ul>
  <div class="clearfix"></div>
</nav>
<div class="clearfix"></div></header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper"><article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2014-08-05T23:56:29.000Z"><a href="/2014/08/06/tomcat-tune/">8月 6 2014</a></time>
      
      
  
    <h1 class="title">Tomcat 并发调优</h1>
  

    </header>
    <div class="entry">
      
        <h2 id="一-_Linux系统配置">一. Linux系统配置</h2>
<p><a id="more"></a></p>
<h3 id="1-_增大最大打开文件数限制">1. 增大最大打开文件数限制</h3>
<pre><code> $ sudo <span class="keyword">vim</span> /etc/sysctl.<span class="keyword">conf</span> 
 # <span class="built_in">add</span> <span class="string">"fs.file-max = 8061540"</span>
 $ sudo <span class="keyword">vim</span> /etc/security/limit.<span class="keyword">conf</span> 
 # <span class="built_in">add</span> <span class="string">"* soft nofile 8192"</span>  <span class="built_in">and</span> <span class="string">"* hard nofile 16384"</span>
</code></pre><h3 id="2-_优化网络">2. 优化网络</h3>
<pre><code>$ sudo <span class="keyword">vim</span> /etc/sysctl.<span class="keyword">conf</span>
</code></pre><p>优化后的内容如下：</p>
<pre><code> net.ipv4.<span class="variable">ip_forward =</span> <span class="number">0</span>

 <span class="comment"># Controls source route verification</span>
 net.ipv4.conf.default.<span class="variable">rp_filter =</span> <span class="number">1</span>

 <span class="comment"># Do not accept source routing</span>
 net.ipv4.conf.default.<span class="variable">accept_source_route =</span> <span class="number">0</span>

 <span class="comment"># Controls the System Request debugging functionality of the kernel</span>
 kernel.<span class="variable">sysrq =</span> <span class="number">0</span>

 <span class="comment"># Controls whether core dumps will append the PID to the core filename</span>
 <span class="comment"># Useful for debugging multi-threaded applications</span>
 kernel.<span class="variable">core_uses_pid =</span> <span class="number">1</span>

 <span class="comment"># Controls the use of TCP syncookies</span>
 net.ipv4.<span class="variable">tcp_syncookies =</span> <span class="number">1</span>

 <span class="comment"># Controls the maximum size of a message, in bytes</span>
 kernel.<span class="variable">msgmnb =</span> <span class="number">65536</span>

 <span class="comment"># Controls the default maxmimum size of a mesage queue</span>
 kernel.<span class="variable">msgmax =</span> <span class="number">65536</span>

 <span class="comment"># Controls the maximum shared segment size, in bytes</span>
 kernel.<span class="variable">shmmax =</span> <span class="number">68719476736</span>

 <span class="comment"># Controls the maximum number of shared memory segments, in pages</span>
 kernel.<span class="variable">shmall =</span> <span class="number">4294967296</span>
 vm.<span class="variable">swappiness =</span> <span class="number">0</span>
 kernel.<span class="variable">core_pattern =</span> /tmp/corefile/core-%e-%p-%t
 net.ipv4.<span class="variable">tcp_tw_reuse =</span> <span class="number">1</span>
 net.ipv4.<span class="variable">tcp_tw_recycle =</span> <span class="number">1</span>
 net.ipv4.<span class="variable">tcp_fin_timeout =</span> <span class="number">5</span>
 net.ipv4.<span class="variable">tcp_max_syn_backlog =</span> <span class="number">65536</span>
 net.core.<span class="variable">netdev_max_backlog =</span>  <span class="number">32768</span>
 net.core.<span class="variable">somaxconn =</span> <span class="number">32768</span>
 net.core.<span class="variable">wmem_default =</span> <span class="number">8388608</span>
 net.core.<span class="variable">rmem_default =</span> <span class="number">8388608</span>
 net.core.<span class="variable">rmem_max =</span> <span class="number">16777216</span>
 net.core.<span class="variable">wmem_max =</span> <span class="number">16777216</span>
 net.ipv4.<span class="variable">tcp_timestamps =</span> <span class="number">0</span>
 net.ipv4.<span class="variable">tcp_synack_retries =</span> <span class="number">2</span>
 net.ipv4.<span class="variable">tcp_syn_retries =</span> <span class="number">2</span>
 net.ipv4.<span class="variable">tcp_mem =</span> <span class="number">94500000</span> <span class="number">915000000</span> <span class="number">927000000</span>
 net.ipv4.<span class="variable">tcp_max_orphans =</span> <span class="number">3276800</span>
 net.ipv4.<span class="variable">ip_local_port_range =</span> <span class="number">2000</span>  <span class="number">65535</span>
 net.ipv4.<span class="variable">tcp_max_tw_buckets =</span> <span class="number">5000</span>
 net.ipv4.netfilter.<span class="variable">ip_conntrack_max =</span> <span class="number">1000000</span>
</code></pre><h2 id="二-_Tomcat内存优化">二. Tomcat内存优化</h2>
<h4 id="Tomcat内存优化主要是对_Tomcat_启动参数优化，我们可以在_Tomcat_的启动脚本_catalina-sh_中设置_JAVA_OPTS_参数"><strong>Tomcat内存优化主要是对 Tomcat 启动参数优化，我们可以在 Tomcat 的启动脚本 catalina.sh 中设置 JAVA_OPTS 参数</strong></h4>
<pre><code>-<span class="ruby"><span class="symbol">server:</span>  启用jdk的server版,一定要作为第一个参数，在多个<span class="constant">CPU</span>时性能佳 
</span>-<span class="ruby"><span class="constant">Xms</span>： 初始<span class="constant">Heap</span>大小，使用的最小内存,cpu性能高时此值应设的大一些 
</span>-<span class="ruby"><span class="constant">Xmx</span>： java heap最大值，使用的最大内存 
</span>上面两个值是分配JVM的最小和最大内存，取决于硬件物理内存的大小，建议均设为物理内存的一半。 
-<span class="ruby"><span class="constant">XX</span><span class="symbol">:PermSize</span><span class="symbol">:</span>设定内存的永久保存区域 
</span>-<span class="ruby"><span class="constant">XX</span><span class="symbol">:MaxPermSize</span><span class="symbol">:</span>设定最大内存的永久保存区域 
</span>-<span class="ruby"><span class="constant">XX</span><span class="symbol">:MaxNewSize</span><span class="symbol">:</span> 
</span>-<span class="ruby"><span class="constant">Xss</span> <span class="number">15120</span> 这使得<span class="constant">JBoss</span>每增加一个线程（thread)就会立即消耗<span class="number">15</span>M内存，而最佳值应该是<span class="number">128</span>K,默认值好像是<span class="number">512</span>k. 
</span>+XX:AggressiveHeap 会使得 Xms没有意义。这个参数让jvm忽略Xmx参数,疯狂地吃完一个G物理内存,再吃尽一个G的swap。 
-<span class="ruby"><span class="constant">Xss</span>：每个线程的<span class="constant">Stack</span>大小 
</span>-<span class="ruby"><span class="symbol">verbose:</span>gc 现实垃圾收集信息 
</span>-<span class="ruby"><span class="constant">Xloggc</span><span class="symbol">:gc</span>.log 指定垃圾收集日志文件 
</span>-<span class="ruby"><span class="constant">Xmn</span>：young generation的heap大小，一般设置为<span class="constant">Xmx</span>的<span class="number">3</span>、<span class="number">4</span>分之一 
</span>-<span class="ruby"><span class="constant">XX</span><span class="symbol">:+UseParNewGC</span> ：缩短minor收集的时间 
</span>-<span class="ruby"><span class="constant">XX</span><span class="symbol">:+UseConcMarkSweepGC</span> ：缩短major收集的时间 
</span>提示：此选项在Heap Size 比较大而且Major收集时间较长的情况下使用更合适。
</code></pre><h4 id="_"> </h4>
<h2 id="三-_Tomcat并发优化">三. Tomcat并发优化</h2>
<h3 id="1-Tomcat连接相关参数">1.Tomcat连接相关参数</h3>
<p>在Tomcat配置文件conf/server.xml 中的Connector配置中</p>
<pre><code> acceptCount：允许的最大连接数
 enableLookups：是否反查域名，取值为： <span class="literal">true</span> 或 <span class="literal">false</span> 。为了提高处理能力，应设置为 <span class="literal">false</span>
 connectionTimeout：网络连接超时，单位：毫秒。设置为 <span class="number">0</span> 表示永不超时，这样设置有隐患的。通常可设置为 <span class="number">30000</span> 毫秒。
 其中和最大连接数相关的参数为maxProcessors 和 acceptCount。如果要加大并发连接数，应同时加大这两个参数。
</code></pre><h3 id="2-调整连接器connector的并发处理能力">2.调整连接器connector的并发处理能力</h3>
<pre><code>  maxThreads        客户请求最大线程数
  minSpareThreads   Tomcat初始化时创建的 <span class="built_in">socket</span> 线程数
  maxSpareThreads   Tomcat连接器的最大空闲 <span class="built_in">socket</span> 线程数
  enableLookups     若设为<span class="constant">true</span>, 则支持域名解析，可把 ip 地址解析为主机名
  redirectPort      在需要基于安全通道的场合，把客户请求转发到基于SSL 的 redirectPort 端口
  acceptAccount     监听端口队列最大数，满了之后客户请求会被拒绝(不能小于maxSpareThreads)
  connectionTimeout 连接超时
  URIEncoding    <span class="built_in">URL</span>统一编码
</code></pre><h3 id="3-Tomcat缓存优化">3.Tomcat缓存优化</h3>
<pre><code>      compression 打开压缩功能   
      compressionM<span class="keyword">in</span>Size   启用压缩的输出内容大小，这里面默认为<span class="number">2</span>KB
      compressableMimeType 压缩类型
      connectionTimeout 定义建立客户连接超时的时间. 如果为 -<span class="number">1</span>, 表示不限制建立客户连接的时间
</code></pre><p>结合以上方面，对server.xml的现有配置为：</p>
<pre><code>      &lt;Connector  <span class="variable">port=</span><span class="string">"9027"</span> 

              <span class="variable">maxHttpHeaderSize=</span><span class="string">"8192"</span>

              <span class="variable">maxThreads=</span><span class="string">"2048"</span>

              <span class="variable">minSpareThreads=</span><span class="string">"256"</span>

              <span class="variable">enableLookups=</span><span class="string">"false"</span>

              <span class="variable">compression=</span><span class="string">"on"</span>

              <span class="variable">compressionMinSize=</span><span class="string">"2048"</span>

              <span class="variable">compressableMimeType=</span><span class="string">"text/html,text/xml,text/javascript,text/css,text/plain"</span>

              <span class="variable">connectionTimeout=</span><span class="string">"20000"</span>

              <span class="variable">URIEncoding=</span><span class="string">"utf-8"</span>

              <span class="variable">acceptCount=</span><span class="string">"2048"</span>

              <span class="variable">redirectPort=</span><span class="string">"8443"</span>

              <span class="variable">disableUploadTimeout=</span><span class="string">"true"</span>

              <span class="variable">executor=</span><span class="string">"tomcatThreadPool"</span> /&gt;

      &lt;Executor <span class="variable">name=</span><span class="string">"tomcatThreadPool"</span> 
                <span class="variable">namePrefix=</span><span class="string">"catalina-exec-"</span> 
                <span class="variable">maxThreads=</span><span class="string">"2048"</span> 
                <span class="variable">minSpareThreads=</span><span class="string">"512"</span> 
                <span class="variable">prestartminSpareThreads=</span><span class="string">"true"</span> /&gt;
</code></pre><h2 id="四-_Tomcat_Native">四. Tomcat Native</h2>
<p> <strong>Tomcat可以使用APR来提供超强的可伸缩性和性能，更好地集成本地服务器技术。APR(Apache Portable Runtime)<br> 是一个高可移植库，它是Apache HTTP Server 2.x的核心。APR有很多用途，包括访问高级IO功能(例如sendfile,<br> epoll和OpenSSL)，OS级别功能(随机数生成，系统状态等等)，本地进程管理(共享内存，NT管道和UNIX sockets)。这些功能可以<br> 使Tomcat作为一个通常的前台WEB服务器，能更好地和其它本地web技术集成，总体上让Java更有效率作为一个高性能web服务器<br> 平台而不是简单作为后台容器</strong>。</p>
<p>在产品环境中，特别是直接使用Tomcat做WEB服务器的时候，应该使用Tomcat Native来提高其性能。<br>说白了，就是如何 在Tomcat中使用JNI的方式来读取文件以及进行网络传输。这个东西可以大大提升Tomcat对静态文件的处理性能，同时如果你使用了HTTPS方式 传输的话，也可以提升SSL的处理性能。</p>
<ul>
<li>a. 安装 apr</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="variable">$ </span>sudo ./configure --prefix=<span class="regexp">/opt/apr</span></div><div class="line"><span class="variable">$ </span>sudo make</div><div class="line"><span class="variable">$ </span>sudo make install</div></pre></td></tr></table></figure>

<ul>
<li>b. 安装 apr-iconv</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ sudo ./configure --prefix=/<span class="keyword">opt</span>/apr-<span class="built_in">iconv</span> --with-apr=/<span class="keyword">opt</span>/apr </div><div class="line">$ sudo <span class="keyword">make</span></div><div class="line">$ sudo <span class="keyword">make</span> install</div></pre></td></tr></table></figure>

<ul>
<li>c. 安装 apr-util</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ sudo  ./configure --prefix=/<span class="keyword">opt</span>/apr-util  --with-apr=/<span class="keyword">opt</span>/apr --with-apr-<span class="built_in">iconv</span>=/<span class="keyword">opt</span>/apr-<span class="built_in">iconv</span>/bin/apriconv </div><div class="line">$ sudo <span class="keyword">make</span></div><div class="line">$ sudo <span class="keyword">make</span> install</div></pre></td></tr></table></figure>

<ul>
<li>d. 安装 tomcat-native</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="variable">$ </span>cd <span class="variable">$TOMCAT_HOME</span>/bin/tomcat-native-<span class="number">1.1</span>.<span class="number">30</span>-src/jni/native</div><div class="line"><span class="variable">$ </span>./configure --with-apr=<span class="regexp">/opt/apr</span> --with-java-home=<span class="regexp">/usr/lib</span><span class="regexp">/jvm/java</span>-<span class="number">7</span>-openjdk-i386/ </div><div class="line"><span class="variable">$ </span>sudo make</div><div class="line"><span class="variable">$ </span>sudo make install</div></pre></td></tr></table></figure>

<h2 id="五-_总结">五. 总结</h2>
<p>为了提高Tomcat的并发处理能力，我从以上几个方面进行了逐步的增量调优，每次优化或者做出改变之后，都从Client用ab模拟并发，观察QPS等指标，并同时在Server端监控各种系统信息：</p>
<pre><code>           sudo <span class="regexp">/opt/</span>apache<span class="regexp">/bin/</span>ab -n <span class="number">50000</span> -c <span class="number">2000</span> http:<span class="comment">//192.168.1.2:9027/performance/test.jsp </span>
</code></pre><p>目前比较好的测试结果如下：</p>
<pre><code>           Server Software:        Apache-Coyote/<span class="number">1.1</span>
           Server Hostname:        <span class="number">192.168</span><span class="number">.1</span><span class="number">.2</span>
           Server Port:            <span class="number">9027</span>

           Document Path:          /performance/test.jsp
           Document Length:        <span class="number">253</span> <span class="keyword">bytes</span>

           Concurrency Level:      <span class="number">2000</span>
           Time taken <span class="keyword">for</span> tests:   <span class="number">4.089</span> <span class="built_in">seconds</span>
           Complete requests:      <span class="number">50000</span>
           Failed requests:        <span class="number">0</span>
           Total transferred:      <span class="number">25100000</span> <span class="keyword">bytes</span>
           HTML transferred:       <span class="number">12650000</span> <span class="keyword">bytes</span>
           Requests per <span class="keyword">second</span>:    <span class="number">12227.55</span> [<span class="comment">#/sec] (mean)</span>
           Time per request:       <span class="number">163.565</span> [ms] (mean)
           Time per request:       <span class="number">0.082</span> [ms] (mean, across all concurrent requests)
           Transfer rate:          <span class="number">5994.36</span> [Kbytes/<span class="built_in">sec</span>] received

           Connection Times (ms)
                         <span class="built_in">min</span>  mean[+/-sd] <span class="built_in">median</span>   <span class="built_in">max</span>
           Connect:        <span class="number">9</span>   <span class="number">77</span> <span class="number">138.5</span>     <span class="number">54</span>    <span class="number">1070</span>
           Processing:    <span class="number">15</span>   <span class="number">81</span>  <span class="number">51.7</span>     <span class="number">76</span>     <span class="number">617</span>
           Waiting:       <span class="number">11</span>   <span class="number">59</span>  <span class="number">34.4</span>     <span class="number">57</span>     <span class="number">608</span>
           Total:         <span class="number">40</span>  <span class="number">158</span> <span class="number">148.6</span>    <span class="number">127</span>    <span class="number">1221</span>

           Percentage <span class="operator">of</span> <span class="operator">the</span> requests served <span class="operator">within</span> <span class="operator">a</span> certain <span class="built_in">time</span> (ms)
             <span class="number">50</span>%    <span class="number">127</span>
             <span class="number">66</span>%    <span class="number">147</span>
             <span class="number">75</span>%    <span class="number">177</span>
             <span class="number">80</span>%    <span class="number">180</span>
             <span class="number">90</span>%    <span class="number">196</span>
             <span class="number">95</span>%    <span class="number">219</span>
             <span class="number">98</span>%    <span class="number">662</span>
             <span class="number">99</span>%   <span class="number">1105</span>
            <span class="number">100</span>%   <span class="number">1221</span> (longest request)
</code></pre><p>但在调优时发现，无论怎样提高各种参数的阈值，并发性都不会再得到明显的提高，有时反而会降低。而且在设置JAVA_OPTS时，-Xms, -Xmx超过2048m时，就会提示超过内存限制。在网路上看到以下内容可以解释这个问题:</p>
<pre><code><span class="escape">`J</span>VM<span class="escape">`内</span>存限制于实际的最大物理内存，假设物理内存无限大的话，<span class="escape">`J</span>VM<span class="escape">`内</span>存的最大值跟操作系统有很大的关系。
简单的说就<span class="number">32</span>位处理器虽然可控内存空间有<span class="number">4</span>GB,但是具体的操作系统会给一个限制，这个限制一般是<span class="number">2</span>GB-<span class="number">3</span>GB（一般
来说<span class="escape">`W</span>indows<span class="escape">`系</span>统下为<span class="number">1.5</span>G-<span class="number">2</span>G，<span class="escape">`L</span>inux<span class="escape">`系</span>统下为<span class="number">2</span>G-<span class="number">3</span>G），而<span class="number">64</span>bit以上的处理器就不会有限制了。
</code></pre>
      
    </div>
    <footer>
      
        
  
  <div class="categories">
    <a href="/categories/JavaEE/">JavaEE</a>
  </div>

        
  
  <div class="tags">
    <a href="/tags/javaee/">javaee</a>, <a href="/tags/tomcat/">tomcat</a>
  </div>

        
  <div class="addthis addthis_toolbox addthis_default_style">
    
      <a class="addthis_button_facebook_like" fb:like:layout="button_count"></a>
    
    
      <a class="addthis_button_tweet"></a>
    
    
      <a class="addthis_button_google_plusone" g:plusone:size="medium"></a>
    
    
      <a class="addthis_button_pinterest_pinit" pi:pinit:layout="horizontal"></a>
    
    <a class="addthis_counter addthis_pill_style"></a>
  </div>
  <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js"></script>

      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>


 <nav id="pagination" >
    
    <a href="/2014/08/31/plan-2014-08/" class="alignleft prev" >上一页</a>
    
    
    <a href="/2014/02/06/nlpNote/" class="alignright next" >下一页</a>
    
    <div class="clearfix"></div>
</nav>
<section id="comment">
<!-- 多说评论框 start -->
    <div class="ds-thread" data-thread-key="2014/08/06/tomcat-tune/" data-title="Tomcat 并发调优" data-url="http://yoursite.com/2014/08/06/tomcat-tune/"></div>
<!-- 多说评论框 end -->
<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"kangkona"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
     || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
  </script>
<!-- 多说公共JS代码 end -->
</section>

</div></div>
    <aside id="sidebar" class="alignright">
  <div class="search">
  <form action="//google.com/search" method="get" accept-charset="utf-8">
    <input type="search" name="q" results="0" placeholder="搜索">
    <input type="hidden" name="q" value="site:yoursite.com">
  </form>
</div>

  
<div class="widget tag">
  <h3 class="title">分类</h3>
  <ul class="entry">
  
    <li><a href="/categories/C/">C</a><small>1</small></li>
  
    <li><a href="/categories/FP/">FP</a><small>1</small></li>
  
    <li><a href="/categories/JavaEE/">JavaEE</a><small>1</small></li>
  
    <li><a href="/categories/Summary/">Summary</a><small>1</small></li>
  
    <li><a href="/categories/nlp/">nlp</a><small>1</small></li>
  
    <li><a href="/categories/python/">python</a><small>1</small></li>
  
    <li><a href="/categories/reading/">reading</a><small>1</small></li>
  
    <li><a href="/categories/reflect/">reflect</a><small>1</small></li>
  
    <li><a href="/categories/storm/">storm</a><small>1</small></li>
  
  </ul>
</div>


  
<div class="widget tagcloud">
  <h3 class="title">标签云</h3>
  <div class="entry">
    <a href="/tags/C/" style="font-size: 10.00px;">C</a><a href="/tags/NLP/" style="font-size: 10.00px;">NLP</a><a href="/tags/javaee/" style="font-size: 10.00px;">javaee</a><a href="/tags/job/" style="font-size: 10.00px;">job</a><a href="/tags/muse/" style="font-size: 10.00px;">muse</a><a href="/tags/note/" style="font-size: 10.00px;">note</a><a href="/tags/pattern,-fp/" style="font-size: 10.00px;">pattern, fp</a><a href="/tags/project/" style="font-size: 10.00px;">project</a><a href="/tags/python/" style="font-size: 10.00px;">python</a><a href="/tags/reading/" style="font-size: 20.00px;">reading</a><a href="/tags/reflect,-blog/" style="font-size: 10.00px;">reflect, blog</a><a href="/tags/storm,-job/" style="font-size: 10.00px;">storm, job</a><a href="/tags/struct/" style="font-size: 10.00px;">struct</a><a href="/tags/summary/" style="font-size: 10.00px;">summary</a><a href="/tags/tomcat/" style="font-size: 10.00px;">tomcat</a>
  </div>
</div>


  <iframe width="100%" height="550" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=550&fansRow=1&ptype=1&speed=0&skin=9&isTitle=0&noborder=0&isWeibo=1&isFans=0&uid=1706116915&verifier=f6d88333&dpc=1"></iframe>

  <div class="widget tag">
<h3 class="title">粉转路人由</h3>
<ul class="entry">
<li><a href="http://letiantian.me" title="樂天笔记~ | 享受生活&&技术&&编程">樂天好男人</a></li>
<li><a href="http://www.urbem.org/" title="西城">西城冷风吹</a></li>
<li><a href="http://tuzhi.letiantian.me" title="莹莹青碧">逍遥黄岛主</a></li>
<li><a href="http://ccloveyou.org"> CC</a></li>
</ul>
</div>
</aside>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div class="alignleft">
  
  &copy; 2014 Kangkona D.Han
  
</div>
<div class="clearfix"></div></footer>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>




<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>

</body>
</html>

<a href="https://github.com/kangkona"><img style="position: absolute; top: 0; left: 0; border: 0;" src="https://camo.githubusercontent.com/121cd7cbdc3e4855075ea8b558508b91ac463ac2/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f6c6566745f677265656e5f3030373230302e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_left_green_007200.png"></a>