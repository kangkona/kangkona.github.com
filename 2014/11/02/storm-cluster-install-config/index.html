<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Storm集群的安装与配置 | Gray Times</title>
  <meta name="author" content="Kangkona D.Han">
  
  <meta name="description" content="1. Infrastructure
3台流处理Server

CPU : 3 Core 
Memory : 3G
Disk : 300G
OS : Ubuntu Server 12.04 64bit">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="Storm集群的安装与配置"/>
  <meta property="og:site_name" content="Gray Times"/>

  
    <meta property="og:image" content="undefined"/>
  

  <link href="/favicon.ico" rel="icon" type="image/x-ico">
  <link rel="alternate" href="/atom.xml" title="Gray Times" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  

</head>


<body>
  <header id="header" class="inner"><div class="alignleft">
  <h1><a href="/">Gray Times</a></h1>
  <h2><a href="/">Record the history that you never forget.</a></h2>
</div>
<nav id="main-nav" class="alignright">
  <ul>
    
      <li><a href="/">Home</a></li>
    
      <li><a href="/archives">Archives</a></li>
    
      <li><a href="/about">About</a></li>
    
  </ul>
  <div class="clearfix"></div>
</nav>
<div class="clearfix"></div></header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper"><article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2014-11-02T08:30:37.000Z"><a href="/2014/11/02/storm-cluster-install-config/">11月 2 2014</a></time>
      
      
  
    <h1 class="title">Storm集群的安装与配置</h1>
  

    </header>
    <div class="entry">
      
        <h2 id="1-_Infrastructure">1. Infrastructure</h2>
<p>3台流处理Server</p>
<ul>
<li>CPU : 3 Core </li>
<li>Memory : 3G</li>
<li>Disk : 300G</li>
<li>OS : Ubuntu Server 12.04 64bit<br><a id="more"></a><h2 id="2-_Depended_Software">2. Depended Software</h2>
</li>
<li>built-essential</li>
<li>Python 2.7</li>
<li>Java 1.7.0_71(最低要求1.6)</li>
<li>Zookeeeper 3.4.6</li>
<li>ZeroMQ 4.0.5</li>
<li>jzmq github-master</li>
<li>Storm 0.9.1-incubating</li>
</ul>
<h2 id="3-_Install_&amp;&amp;_Config">3. Install &amp;&amp; Config</h2>
<p>几乎所有软件对集群中的机器来说，安装过程都是完全一致的，所有没有必要在每台机器重复安装过程，可以使用Puppet或者Docker这些工具来提高效率。但由于操作的集群网络环境受限，最终利用Xshell可以一次向多个会话发送命令的功能，做到了完全同步的安装和配置。</p>
<h3 id="3-1_修改/etc/hosts">3.1 修改/etc/hosts</h3>
<p>使用名称来代表机器会带来很多方便，在/etc/hosts中追加如下内容：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">172.21.1.168	master</div><div class="line">172.21.1.169	node1</div><div class="line">172.21.1.170	node2</div></pre></td></tr></table></figure>

<h3 id="3-2_build-essential">3.2 build-essential</h3>
<p><a href="http://packages.ubuntu.com/lucid/amd64/build-essential/filelist" target="_blank" rel="external">build-essential</a>作用是提供编译程序必须软件包的列表信息, 编译程序有了这个软件包, 才知道 头文件和库函数的位置，还会下载依赖的软件包，组成一个基本的开发环境</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ <span class="built_in">sudo</span> apt-get install build-essential</div></pre></td></tr></table></figure>

<h3 id="3-3_安装JDK">3.3 安装JDK</h3>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ tar zxvf jdk-<span class="number">7</span>u71-linux-x86.tar.gz</div><div class="line"><span class="preprocessor"># mv jdk1.7.0_71 /usr/lib/jvm</span></div><div class="line"><span class="preprocessor"># sudo vim /etc/profile</span></div></pre></td></tr></table></figure>

<p>追加内容：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">export</span> JAVA_HOME=/usr/lib/jvm/jdk1.<span class="number">7.0</span>_71</div><div class="line"><span class="keyword">export</span> JRE_HOME=<span class="variable">${JAVA_HOME}</span>/jre</div><div class="line"><span class="keyword">export</span> CLASSPATH=.:<span class="variable">${JAVA_HOME}</span>/lib:<span class="variable">${JRE_HOME}</span>/lib</div><div class="line"><span class="keyword">export</span> PATH=<span class="variable">${JAVA_HOME}</span>/bin:<span class="variable">${JRE_HOME}</span>/bin:<span class="variable">$PATH</span></div></pre></td></tr></table></figure>



<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$<span class="keyword">source</span> /etc/<span class="keyword">profile</span></div></pre></td></tr></table></figure>

<h3 id="3-4_安装Zookeeper_3-4-6">3.4 安装Zookeeper 3.4.6</h3>
<p>详细内容可以参考 <a href="http://www.iteblog.com/archives/904" target="_blank" rel="external">Zookeeper 3.4.5分布式安装手册</a> 这篇文章， 这里简要描述：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$ tar -zxvf zookeeper-<span class="number">3.4</span>.<span class="number">6</span>.tar.gz</div><div class="line">$ <span class="keyword">cd</span> zookeeper-<span class="number">3.4</span>.<span class="number">6</span>/<span class="keyword">conf</span>/</div><div class="line">$ <span class="keyword">cp</span> zoo_sample.cfg zoo.cfg</div><div class="line">$ <span class="keyword">vim</span> zoo.cfg</div></pre></td></tr></table></figure>

<ul>
<li>将里面的默认配置修改为如下（具体配置可以根据你机器来定）：</li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="variable">tickTime=</span><span class="number">2000</span></div><div class="line"><span class="comment"># The number of ticks that the initial</span></div><div class="line"><span class="comment"># synchronization phase can take</span></div><div class="line"><span class="variable">initLimit=</span><span class="number">10</span></div><div class="line"><span class="comment"># The number of ticks that can pass between</span></div><div class="line"><span class="comment"># sending a request and getting an acknowledgement</span></div><div class="line"><span class="variable">syncLimit=</span><span class="number">5</span></div><div class="line"><span class="comment"># the directory where the snapshot is stored.</span></div><div class="line"><span class="comment"># do not use /tmp for storage, /tmp here is just</span></div><div class="line"><span class="comment"># example sakes.</span></div><div class="line"><span class="variable">dataDir=</span>/logs/zookeeper</div><div class="line"><span class="comment"># the port at which the clients will connect</span></div><div class="line"><span class="variable">clientPort=</span><span class="number">2181</span></div><div class="line"></div><div class="line">server.<span class="number">1</span> = master:<span class="number">2888</span>:<span class="number">3888</span></div><div class="line">server.<span class="number">2</span> = node1:<span class="number">2888</span>:<span class="number">3888</span></div><div class="line">server.<span class="number">3</span> = node2:<span class="number">2888</span>:<span class="number">3888</span></div></pre></td></tr></table></figure>

<ul>
<li>在刚刚zoo.cfg文件中dataDir属性指定的目录（本文中为/logs/zookeeper）下创建一个myid，在里面添加你指定的server编号，因为这台机器是master，而zoo.cfg中master编号为1(server.1=master:2888:3888)，所以myid内容只需要为1即可。</li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="input"><span class="prompt">$ mkdir -p /logs/zookeeper</span></span></div><div class="line">$ echo 1   &gt; /logs/zookeeper/myid</div></pre></td></tr></table></figure>

<ul>
<li><p>这样就在master机器上配置好Zookeeper，接下来只需要将master配置好的Zookeeper整个目录打包分发到node1、node2机器中，解压到安装位置。</p>
<p>  <strong>不要忘记在node1的/logs/zookeeper/myid文件中添加2。node2的/logs/zookeeper/myid文件中添加3。</strong></p>
</li>
<li><p>将每个机器的zookeeper的路径添加到Path<br>在/etc/profile追加如下内容：</p>
</li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># zookeeper</span></div><div class="line"><span class="keyword">export</span> ZOOKEEPER_HOME=/packages/zookeeper-<span class="number">3.4</span>.<span class="number">6</span></div><div class="line"><span class="keyword">export</span> PATH=<span class="variable">${ZOOKEEPER_HOME}</span>/bin:<span class="variable">$PATH</span></div></pre></td></tr></table></figure>

<p>  <strong>不要忘记在三台机器 <code>source /etc/profile</code> 使之生效。</strong></p>
<ul>
<li>分别在master、node1、node2机器上启动Zookeeper相关服务：</li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$ZOOKEEPER_HOME/bin/zkServer.sh start</div><div class="line">JMX enabled by default</div><div class="line">Using config: /home/wyp/Downloads/zookeeper-<span class="number">3.4</span><span class="number">.5</span>/bin/../conf/zoo.cfg</div><div class="line">Starting zookeeper <span class="keyword">...</span> STARTED</div></pre></td></tr></table></figure>

<ul>
<li>测试Zookeeper是否安装成功：<br>参见 <a href="http://www.iteblog.com/archives/904" target="_blank" rel="external">Zookeeper 3.4.5分布式安装手册</a> 第7点 。</li>
</ul>
<h3 id="3-5_安装ZMQ">3.5 安装ZMQ</h3>
<p>默认安装在/usr/local/lib位置，后面会比较省劲：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="variable">$ </span>tar -xzf zeromq-<span class="number">4.0</span>.<span class="number">5</span>.tar.gz</div><div class="line"><span class="variable">$ </span>cd zeromq-<span class="number">4.0</span>.<span class="number">5</span></div><div class="line"><span class="variable">$ </span>./configure</div><div class="line"><span class="variable">$ </span>make</div><div class="line"><span class="variable">$ </span>sudo make install</div></pre></td></tr></table></figure>

<h3 id="3-6_安装_jzmq">3.6 安装 jzmq</h3>
<p>最开始装<a href="https://github.com/nathanmarz/jzmq" target="_blank" rel="external">nathanmarz</a>的分支，一直无法make，最后下载了zeromq的<a href="https://github.com/zeromq/jzmq" target="_blank" rel="external">master</a>分支。  make过程中提示安装libtool, pkg-config, autoconf几个工具:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-<span class="built_in">get</span> install libtool pkg-config autoconf</div><div class="line">$ git clone http<span class="variable">s:</span>//github.<span class="keyword">com</span>/zeromq/jzmq</div><div class="line">$ <span class="keyword">cd</span> jzmq</div><div class="line">$ ./autogen.<span class="keyword">sh</span></div><div class="line">$ ./configure</div><div class="line">$ <span class="keyword">make</span></div><div class="line">$ sudo <span class="keyword">make</span> install</div></pre></td></tr></table></figure>

<h3 id="3-7_Storm_install_&amp;&amp;_config">3.7 Storm install &amp;&amp; config</h3>
<ul>
<li><p>安装之前的调研</p>
<p>在官网下载了storm-0.9.1-incubating 版本解压到安装位置。 该版本的一大亮点是采用了Netty做消息传输层，在以前的版本里，Storm只能依赖ZeroMQ做消息的传输，但其实并不适合,  <a href="http://www.cnblogs.com/alephsoul-alephsoul/p/3467651.html" target="_blank" rel="external">理由</a>：</p>
<ul>
<li>ZeroMQ是一个本地化的消息库，它过度依赖操作系统环境；</li>
<li>安装起来比较麻烦；(有了Netty可以不要ZeroMQ和jzmq)</li>
<li>ZeroMQ的稳定性在不同版本之间差异巨大，并且目前只有2.1.7版本的ZeroMQ能与Storm协调的工作(写文档才注意到这句话。。。后面需要测试一下)。</li>
</ul>
<p>引入Netty的原因是：</p>
<ul>
<li>平台隔离，Netty是一个纯Java实现的消息队列，可以帮助Storm实现更好的跨平台特性，同时基于JVM的实现可以让我们对消息有更好的控制；</li>
<li>高性能，Netty的性能要比ZeroMQ快两倍左右，<a href="http://yahooeng.tumblr.com/post/64758709722/making-storm-fly-with-netty" target="_blank" rel="external">让Storm飞</a> 专门比较了ZeroMQ和Netty的性能。</li>
<li>安全性认证，使得我们将来要做的 worker 进程之间的认证授权机制成为可能。</li>
</ul>
</li>
</ul>
<p>主要参考<a href="http://www.cnblogs.com/panfeng412/archive/2012/11/30/how-to-install-and-deploy-storm-cluster.html" target="_blank" rel="external">Storm集群安装部署步骤【详细版】</a> 和其他集群的经验对conf/storm.yaml进行如下配置：</p>
<ul>
<li>storm.zookeeper.servers: Storm集群使用的Zookeeper集群地址，其格式如下：</li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">storm.zookeeper.servers:</div><div class="line">     -<span class="ruby"> <span class="string">"172.21.1.168"</span></span></div><div class="line">     -<span class="ruby"> <span class="string">"172.21.1.169"</span></span></div><div class="line">     -<span class="ruby"> <span class="string">"172.21.1.170"</span></span></div></pre></td></tr></table></figure>

<p>如果Zookeeper集群使用的不是默认端口，那么还需要storm.zookeeper.port选项。</p>
<ul>
<li>storm.local.dir: Nimbus和Supervisor进程用于存储少量状态，如jars、confs等的本地磁盘目录，需要提前创建该目录并给以足够的访问权限。然后在storm.yaml中配置该目录，如：</li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">storm.<span class="keyword">local</span>.dir: <span class="string">"/logs/storm/workdir"</span></div></pre></td></tr></table></figure>

<ul>
<li><p>java.library.path: Storm使用的本地库(ZMQ和JZMQ)加载路径，默认为”/usr/local/lib:/opt/local/lib:/usr/lib”，一般来说ZMQ和JZMQ默认安装在/usr/local/lib 下，因此不需要配置即可。</p>
</li>
<li><p>nimbus.host: Storm集群Nimbus机器地址，各个Supervisor工作节点需要知道哪个机器是Nimbus，以便下载Topologies的jars、confs等文件，如：</p>
</li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">nimbus.hos<span class="variable">t:</span> <span class="string">"172.21.1.168"</span></div></pre></td></tr></table></figure>

<ul>
<li>supervisor.slots.ports: 对于每个Supervisor工作节点，需要配置该工作节点可以运行的worker数量。每个worker占用一个单独的端口用于接收消息，该配置选项即用于定义哪些端口是可被worker使用的。默认情况下，每个节点上可运行4个workers，分别在6700、6701、6702和6703端口，我配置了80个：</li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">supervisor.slots.ports:</div><div class="line">    -<span class="ruby"> <span class="number">6700</span></span></div><div class="line">    -<span class="ruby"> <span class="number">6701</span></span></div><div class="line">    -<span class="ruby"> <span class="number">6702</span></span></div><div class="line">    -<span class="ruby"> <span class="number">6703</span></span></div><div class="line">     ......</div><div class="line">    -<span class="ruby"> <span class="number">6780</span></span></div></pre></td></tr></table></figure>

<ul>
<li>storm UI端口</li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">ui.port</span>: <span class="string">8088</span></div></pre></td></tr></table></figure>

<ul>
<li>如果要在Storm里使用Netty做传输层，只需要简单的把下面的内容加入到storm.yaml中，并根据你的实际情况调整参数即可：</li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">storm.messaging.transport</span>: <span class="string">"backtype.storm.messaging.netty.Context"</span></div><div class="line"><span class="attribute">storm.messaging.netty.server_worker_threads</span>: <span class="string">1</span></div><div class="line"><span class="attribute">storm.messaging.netty.client_worker_threads</span>: <span class="string">1</span></div><div class="line"><span class="attribute">storm.messaging.netty.buffer_size</span>: <span class="string">5242880</span></div><div class="line"><span class="attribute">storm.messaging.netty.max_retries</span>: <span class="string">100</span></div><div class="line"><span class="attribute">storm.messaging.netty.max_wait_ms</span>: <span class="string">1000</span></div><div class="line"><span class="attribute">storm.messaging.netty.min_wait_ms</span>: <span class="string">100</span></div></pre></td></tr></table></figure>

<ul>
<li>为了方便使用，可以将Storm位置加入到系统环境变量中</li>
</ul>
<p>在/etc/profile追加如下内容：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># Storm</span></div><div class="line"><span class="keyword">export</span> STORM_HOME=/packages/zookeeper-<span class="number">3.4</span>.<span class="number">6</span></div><div class="line"><span class="keyword">export</span> PATH=<span class="variable">${STORM_HOME}</span>/bin:<span class="variable">$PATH</span></div></pre></td></tr></table></figure>

<p>  <strong>不要忘记在三台机器 <code>source /etc/profile</code> 使之生效。</strong></p>
<ul>
<li><p>启动Storm各个后台进程</p>
<p>最后一步，启动Storm的所有后台进程。和Zookeeper一样，Storm也是快速失败（fail-fast)的系统，这样Storm才能在任意时刻被停止，并且当进程重启后被正确地恢复执行。这也是为什么Storm不在进程内保存状态的原因，即使Nimbus或    Supervisors被重启，运行中的Topologies不会受到影响。</p>
<p>以下是启动Storm各个后台进程的方式：</p>
<ul>
<li>Nimbus: 在Storm主控节点上运行”bin/storm nimbus &gt;/dev/null 2&gt;&amp;1 &amp;”启动Nimbus后台程序，并放到后台执行；</li>
<li>Supervisor: 在Storm各个工作节点上运行”bin/storm supervisor &gt;/dev/null 2&gt;&amp;1 &amp;”启动Supervisor后台程序，并放到后台执行；</li>
<li>UI: 在Storm主控节点上运行”bin/storm ui &gt;/dev/null 2&gt;&amp;1 &amp;”启动UI后台程序，并放到后台执行，启动后可以通过<a href="http://{nimbus" target="_blank" rel="external">http://{nimbus</a> host}:8080观察集群的worker资源使用情况、Topologies的运行状态等信息。</li>
</ul>
<p><strong>注意事项</strong>：</p>
<ul>
<li>Storm后台进程被启动后，将在Storm安装部署目录下的logs/子目录下生成各个进程的日志文件。</li>
<li>经测试，Storm UI必须和Storm Nimbus部署在同一台机器上，否则UI无法正常工作，因为UI进程会检查本机是否存在Nimbus链接。</li>
</ul>
</li>
</ul>
<p>至此，Storm集群已经部署、配置完毕，可以向集群提交拓扑运行了。</p>
<ul>
<li><p>向集群提交任务</p>
<ul>
<li>启动Storm Topology：</li>
</ul>
<p><code>storm jar allmycode.jar org.me.MyTopology arg1 arg2 arg3</code></p>
<ul>
<li>停止Storm Topology：</li>
</ul>
<p><code>storm kill {toponame}</code> </p>
</li>
</ul>

      
    </div>
    <footer>
      
        
  
  <div class="categories">
    <a href="/categories/storm/">storm</a>
  </div>

        
  
  <div class="tags">
    <a href="/tags/storm,-job/">storm, job</a>
  </div>

        
  <div class="addthis addthis_toolbox addthis_default_style">
    
      <a class="addthis_button_facebook_like" fb:like:layout="button_count"></a>
    
    
      <a class="addthis_button_tweet"></a>
    
    
      <a class="addthis_button_google_plusone" g:plusone:size="medium"></a>
    
    
      <a class="addthis_button_pinterest_pinit" pi:pinit:layout="horizontal"></a>
    
    <a class="addthis_counter addthis_pill_style"></a>
  </div>
  <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js"></script>

      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>


 <nav id="pagination" >
    
    <a href="/2014/11/28/json-and-go/" class="alignleft prev" >上一页</a>
    
    
    <a href="/2014/10/27/friendly-sort/" class="alignright next" >下一页</a>
    
    <div class="clearfix"></div>
</nav>
<section id="comment">
<!-- 多说评论框 start -->
    <div class="ds-thread" data-thread-key="2014/11/02/storm-cluster-install-config/" data-title="Storm集群的安装与配置" data-url="http://yoursite.com/2014/11/02/storm-cluster-install-config/"></div>
<!-- 多说评论框 end -->
<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"kangkona"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
     || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
  </script>
<!-- 多说公共JS代码 end -->
</section>

</div></div>
    <aside id="sidebar" class="alignright">
  <div class="search">
  <form action="//google.com/search" method="get" accept-charset="utf-8">
    <input type="search" name="q" results="0" placeholder="搜索">
    <input type="hidden" name="q" value="site:yoursite.com">
  </form>
</div>

  
<div class="widget tag">
  <h3 class="title">分类</h3>
  <ul class="entry">
  
    <li><a href="/categories/C/">C</a><small>1</small></li>
  
    <li><a href="/categories/Design/">Design</a><small>1</small></li>
  
    <li><a href="/categories/Experience/">Experience</a><small>1</small></li>
  
    <li><a href="/categories/FP/">FP</a><small>1</small></li>
  
    <li><a href="/categories/JavaEE/">JavaEE</a><small>1</small></li>
  
    <li><a href="/categories/Summary/">Summary</a><small>2</small></li>
  
    <li><a href="/categories/Web前端/">Web前端</a><small>1</small></li>
  
    <li><a href="/categories/golang/">golang</a><small>2</small></li>
  
    <li><a href="/categories/movie/">movie</a><small>1</small></li>
  
    <li><a href="/categories/nlp/">nlp</a><small>1</small></li>
  
    <li><a href="/categories/python/">python</a><small>1</small></li>
  
    <li><a href="/categories/reading/">reading</a><small>1</small></li>
  
    <li><a href="/categories/reflect/">reflect</a><small>1</small></li>
  
    <li><a href="/categories/storm/">storm</a><small>2</small></li>
  
  </ul>
</div>


  
<div class="widget tagcloud">
  <h3 class="title">标签云</h3>
  <div class="entry">
    <a href="/tags/C/" style="font-size: 10.00px;">C</a><a href="/tags/NLP/" style="font-size: 10.00px;">NLP</a><a href="/tags/concurrent,-golang/" style="font-size: 10.00px;">concurrent, golang</a><a href="/tags/design/" style="font-size: 10.00px;">design</a><a href="/tags/frontend,-caching,-web/" style="font-size: 10.00px;">frontend, caching, web</a><a href="/tags/javaee/" style="font-size: 10.00px;">javaee</a><a href="/tags/job/" style="font-size: 20.00px;">job</a><a href="/tags/json,-golang,-networking/" style="font-size: 10.00px;">json, golang, networking</a><a href="/tags/movie/" style="font-size: 10.00px;">movie</a><a href="/tags/muse/" style="font-size: 10.00px;">muse</a><a href="/tags/note/" style="font-size: 10.00px;">note</a><a href="/tags/pattern,-fp/" style="font-size: 10.00px;">pattern, fp</a><a href="/tags/project/" style="font-size: 10.00px;">project</a><a href="/tags/python/" style="font-size: 10.00px;">python</a><a href="/tags/reading/" style="font-size: 20.00px;">reading</a><a href="/tags/reflect,-blog/" style="font-size: 10.00px;">reflect, blog</a><a href="/tags/storm,-job/" style="font-size: 20.00px;">storm, job</a><a href="/tags/struct/" style="font-size: 10.00px;">struct</a><a href="/tags/summary/" style="font-size: 20.00px;">summary</a><a href="/tags/tomcat/" style="font-size: 10.00px;">tomcat</a><a href="/tags/用户体验,-Sort,-Search/" style="font-size: 10.00px;">用户体验, Sort, Search</a>
  </div>
</div>


  <div class="widget tag">
<h3 class="title">粉转路人由</h3>
<ul class="entry">
<li><a href="http://letiantian.me" title="樂天笔记~ | 享受生活&&技术&&编程">樂天好男人</a></li>
<li><a href="http://www.urbem.org" title="西城">西城冷风吹</a></li>
<li><a href="http://huangtuzhi.github.io" title="莹莹青碧">逍遥黄岛主</a></li>
<li><a href="http://ccloveyou.org" title="Love life & love tech">浪中云CC</a></li>
<li><a href="http://sinb.github.io" title="Amnesia's blog" >是小司不是小四</a></li>
</ul>
</div>

  <iframe width="100%" height="550" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=550&fansRow=1&ptype=1&speed=0&skin=9&isTitle=0&noborder=0&isWeibo=1&isFans=0&uid=1706116915&verifier=f6d88333&dpc=1"></iframe>
</aside>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div class="alignleft">
  
  &copy; 2015 Kangkona D.Han
  
</div>
<div class="clearfix"></div></footer>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>




<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>

</body>
</html>

<a href="https://github.com/kangkona"><img style="position: absolute; top: 0; left: 0; border: 0;" src="https://camo.githubusercontent.com/121cd7cbdc3e4855075ea8b558508b91ac463ac2/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f6c6566745f677265656e5f3030373230302e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_left_green_007200.png"></a>